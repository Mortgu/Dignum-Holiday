generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model role_permissions {
  id                 Int          @id @default(autoincrement())
  role               Int?
  roleRelation       roles?       @relation(fields: [role], references: [id])
  permission         Int?
  permissionRelation permissions? @relation(fields: [permission], references: [id])
}

model permissions {
  id             Int                @id @unique @default(autoincrement())
  name           String             @unique
  base           Boolean            @default(false)
  roles          roles[]
  RolePermission role_permissions[]
}

model roles {
  id             Int                @id @unique @default(autoincrement())
  name           String             @unique
  system         Boolean            @default(false)
  users          users[]
  permissions    permissions[]
  RolePermission role_permissions[]
}

model users {
  id                  Int      @id @default(autoincrement())
  email               String   @unique
  firstName           String
  lastName            String
  entryDate           DateTime @default(now())
  exitDate            DateTime
  workingHours        Int
  vacationEntitlement Int
  password            String
  role                Int?
  roleRelation        roles?   @relation(fields: [role], references: [id])
  system              Boolean  @default(false)
}
